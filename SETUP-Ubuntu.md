# Ubuntu のセットアップ (WSL)

ここでは Ubuntu （ウブンチュ）のセットアップを行います。Ubuntu とは Windows や Machintosh（マック）と同じように Linux OS という OS の一種です。

ちなみに Python は Windows 上でも動作しますが、敢えて Ubuntu 上で Python を動かす（学ぶ）のは、dataentry のシステムが Ubuntu (Linux) で動作している為です。

## Power Shell の起動

Ubuntu をインストールするにはマウスボタンをクリックしてインストールする事も出来ますが、よりプログラマー（プログラミングする人）らしくコマンドラインを使ってみましょう。実はこれから行うことは既にプログラミング言語の一部に触れているのです。初めての方は難しく感じるかもしれませんが、丁寧に進めますので、お付き合い下さい。

スタートメニューから `Windows PowerShell` （ウィンドウズ・パワーシェル）を起動します。Windows Terminal （ウィンドウズ・ターミナル）や PowerShell の使い方を知ってる方は次の `Windows Terminal について` と `PowerShell の使い方` は飛ばしても構いません。

## Windows Terminal について

黒い画面が表示されましたか？このウィンドウは `Windows Terminal` というアプリケーションでブラウザのように複数のタブを持つことができます。最初のタブで `PowerShell` が起動して、そのプロンプトが表示されているはずです。プロンプトとは `PS C:\Users\(ユーザー名)> ` です。

```
Windows PowerShell
Copyright (C) Microsoft Corporation. All rights reserved.

新機能と改善のために最新の PowerShell をインストールしてください!https://aka.ms/PSWindows

パーソナル プロファイルとシステム プロファイルの読み込みにかかった時間は 555 ミリ秒です。
PS C:\Users\daisuke>
```

色々なメッセージが表示されますが、大事なのは最後の行の `PS C:\Users\（ユーザー名）>` です。

## PowerShell の使い方

PowerShell を起動すると `PS C:\Users\（ユーザー名）> ` というプロンプトが表示されます。プロンプトの `C:\Users\（ユーザー名）` は現在のディレクトリ名を表しています。単に `PS>` や `>` のようにして表現する事もあります。プロンプトは「ユーザー（あなた）の入力を待っているよ」という表示です。実際にこのターミナルで文字を入力するとプロンプトの後に文字を入力する事ができます。

試しに以下の通りにコマンドを入力してみましょう。

注意: コマンドは原則として全て半角で入力します。日本語になっていたらオフにしましょう。

```powershell
PS> ls
```

赤い文字が表示されましたか？そうでなく、正しく実行されたら、あなたは「プロンプト」について知っているのかもしれません。

```
PS C:\Users\daisuke> PS> ls
PS> : 用語 'PS>' は、コマンドレット、関数、スクリプト ファイル、または操作可能なプログラムの名前として認識されません。
名前が正しく記述されていることを確認し、パスが含まれている場合はそのパスが正しいことを確認してから、再試行してください
。
発生場所 行:1 文字:1
+ PS> ls
+ ~~~
    + CategoryInfo          : ObjectNotFound: (PS>:String) [], CommandNotFoundException
    + FullyQualifiedErrorId : CommandNotFoundException
```

上記のように赤字が表示された正直者のあなたに説明します。`PS> ls` のように書いた場合は「PowerShell (PS) のプロンプト `PS> ` の後に `ls` と入力して `Enter` キーを押してください」という意味になります。
コピペしやすいように `PS>` を書かない場合もありますが原則としてプロンプトの後が実際に入力する文字列であると覚えてください。

ではもう一度、正しく `ls` とだけ入力して `Enter` キーを押してください。

```
PS C:\Users\daisuke> ls


    ディレクトリ: C:\Users\daisuke


Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
d-----         7/23/2024   5:16 PM                .cache
d-----         7/22/2024   3:00 AM                .config
da----         8/27/2024   5:27 PM                .gnupg
d-----         7/22/2024  11:33 PM                .ipython
～（略）～
```

上記の様に表示されましたか？`ls` コマンドはカレント（現在の）ディレクトリのファイルやディレクトリの名前の一覧を表示します。日付や Mode といった付加的な情報も表示されています。少し説明すると Mode の `d` はディレクトリを表す `d` です。文字だけだとフォルダとファイルの違いが判らないので `d` で表されます。

## Ubuntu のインストール

さて、実際に Ubuntu をインストールしましょう。ターミナルや PowerShell に慣れる為にもコマンドを使ってインストールします。 PowerShell のプロンプトの後に１行づつ入力してください。横着して３行まとめても多くの場合は期待通り動いてくれます（複数行を張り付けようとすると確認画面が出ます）。

ここでは１行づつ実行しましょう。実はこの場合はそうしないとダメなのです（理由は後ほど）。

まずは `wsl --update` の行をコピーして、ターミナルに貼り付けましょう。

```powershell
wsl --update
wsl --shutdown
wsl --install -d Ubuntu-22.04
```

最後のコマンドで Ubuntu のインストールが始まって、自動的に Ubuntu が起動します。
初回の Ubuntu の起動時にユーザー名とパスワードを聞かれます。

TODO: ここにユーザー名を聞かれたときのスクリーンショットを用意する。

ユーザー名は daisuke や arai のように全部小文字のシンプルなアルファベットにしましょう。パスワードは複雑な方が良いに決まっていますが、
覚えやすくてある程度入力しやすいものにしましょう。ただし、ユーザー名と全く同じだったりユーザー名に数字がついただけの様なパスワードは
予測できてしまうので避けましょう。

## bash について

Ubuntu のインストールが終わると以下のようなプロンプトが表示されます。このプロンプトは Ubuntu という OS の上で動く `bash` (バッシュ)という
シェルコマンドのプロンプトです。細かいことは抜きにして、とりあえず Ubuntu のプロンプトが表示されると思って構いません。

```bash
daisuke@z6b(Ubuntu-22.04):~
$
```

このプロンプトは PowerShell のプロンプトと異なり `$` で終わっています。 PowerShell と同じようにこのプロンプトの後にコマンドを
入力する事が出来ます。コマンドは PowerShell と異なりますが、基本的なコマンドは共通しています。

たとえば `ls` というコマンドは PowerShell でも Ubuntu (bash) でも実行できます。試してみましょう。

```bash
$ ls
```

以下のように `command not found` と言われたら（表示されたら）、あなたは見たまんまプロンプト (`$`) を入力してしまっています。

```bash
$ $ ls
$: command not found
```

プロンプトは入力せずに `ls` だけを入力して下さい。`ls` コマンドは (List Directory = ディレクトリ内容の一覧を表示せよ）というコマンドです。

```
ls
```

Windows (PowerShell) の時と違って何も表示されないか、数個しか表示されないと思います。これは本当に空の場合と、表示されないファイルしかない場合があります。

もう一つよく使うコマンドを紹介しておきます。`cd` (Change Directory = カレント（現在の）ディレクトリを移動せよという）コマンドです。 Windows で「マイドキュメントの中のホニャララというディレクトリ・・・」と言う時に、フォルダの中にフォルダがありますよね？これは、フォルダが階層構造になっているという事です。階層構造は、よく木に例えられますが、枝葉の様に分岐しています。枝葉何度も分岐しますが、葉は常に先っちょにしかありません。枝がディレクトリで葉がファイルです。

```
cd
```

`cd` コマンドは何も表示しません。何も起こらないように見えますが、`cd` とだけ入力してコマンドを実行すると、ホームディレクトリに移動します。この後実行するコマンドは、現在のディレクトリを基準にしてコマンドを実行します。皆さんが同じ（ホームディレクトリに居る）状態にするために `cd` コマンドを実行しました。今後何らかの作業をするときに、今自分がどのディレクトリで作業しているのかは非常に大事です。

はい、とにかく `cd` コマンドでカレント（現在の）ディレクトリがホームディレクトリになりました。プロンプトの一行上の `:` 以下が `~` になっていると思います。`~` はホームディレクトリを意味します。

```
daisuke@z6b(Ubuntu-22.04):~
$
```

さて、少し回り道をしましたが、これで Python を学習する準備が出来ました。

次の[ステップ](./T-01.ipynb)に進みましょう！
